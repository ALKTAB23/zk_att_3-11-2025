════════════════════════════════════════════════════════════
الإعداد الصحيح لقواعد التأخير
════════════════════════════════════════════════════════════

المطلوب:
- الدوام الرسمي: 09:00 صباحاً
- فترة السماح: 15 دقيقة (حتى 09:15)
- بعد 09:15: يبدأ حساب التأخير

════════════════════════════════════════════════════════════
الحل 1: استخدام Permit Check In (الأفضل)
════════════════════════════════════════════════════════════

المسار: Attendances → Configuration → Attendance Policies → TEST 1212

1. في Policy الأساسية:
   Permit Check In: 15 (دقيقة)
   
   ✅ هذا يعني: النظام يسمح بـ 15 دقيقة بعد 09:00
   ✅ أي دخول قبل 09:15 لا يعتبر تأخير

2. في Late In Rules:
   Counter: First Time
   From Time: 0.00 (من الصفر)
   To Time: 24.00 (إلى نهاية اليوم)
   Type: rate
   Rate: 1.0

════════════════════════════════════════════════════════════
الحل 2: استخدام Time Range في Late Rule
════════════════════════════════════════════════════════════

إذا كان Permit Check In = 0

1. في Late In Rules:
   Counter: First Time
   From Time: 0.25 (15 دقيقة = 0.25 ساعة)
   To Time: 24.00
   Type: rate
   Rate: 1.0

   ✅ هذا يعني: لا يحسب التأخير إلا إذا كان >= 15 دقيقة
   ✅ تأخير 10 دقائق: لا يحسب (< 0.25)
   ✅ تأخير 20 دقيقة: يحسب (>= 0.25)

════════════════════════════════════════════════════════════
مثال كامل:
════════════════════════════════════════════════════════════

الموظف دخل 09:20 (تأخر 20 دقيقة = 0.333 ساعة)

- الحل 1 (Permit=15):
  act_late_in = 0.333 ساعة
  permit يطرح 15 دقيقة = 0.25 ساعة
  التأخير الفعلي = 0.333 - 0.25 = 0.083 ساعة (5 دقائق)
  late_in = 0.083 × 1.0 = 0.083 ساعة

- الحل 2 (From Time=0.25):
  act_late_in = 0.333 ساعة
  القاعدة تقول: يجب أن يكون >= 0.25
  0.333 >= 0.25 ✓ (تنطبق القاعدة)
  late_in = 0.333 × 1.0 = 0.333 ساعة

════════════════════════════════════════════════════════════
ما الفرق؟
════════════════════════════════════════════════════════════

Permit Check In:
- يطرح من التأخير قبل تطبيق القاعدة
- يحسب التأخير بعد فترة السماح فقط

From Time في Late Rule:
- لا يطبق القاعدة إلا إذا التأخير >= From Time
- يحسب كل التأخير (بدون طرح)

════════════════════════════════════════════════════════════
التوصية:
════════════════════════════════════════════════════════════

استخدم Permit Check In = 15
+ Late Rule: From=0.00, To=24.00, Rate=1.0

✅ هذا أبسط وأوضح
✅ يعطي نتيجة منطقية: يحسب فقط التأخير بعد فترة السماح

